<h2>Vehicle Detail</h2>
<form [formGroup]="vehicleForm" (ngSubmit)="submit()">
  <div class="form-group">
    <label for="make">Make</label>
    <select class="form-control" name="make" id="make" formControlName="make">
      <option *ngFor="let make of makes$ | async" [value]="make.name">{{make.name}}</option>
    </select>
  </div>
  <div class="form-check">
    <input type="checkbox" class="form-check-input" formControlName="isRegistered" id="isRegistered">
    <label for="isRegistered" class="form-check-label">
      Is this vehicle registered?
    </label>
  </div>
  <!-- <div *ngFor="let feature of feature$ | async" class="form-check">

  </div> -->
  <label formArrayName="features" *ngFor="let feature of vehicleForm.controls.features.controls; let i = index">
    <input type="checkbox" [formControlName]="i">
    {{features[i].name}}
  </label>
  </label>
  <div class="form-group">
    <label for="name">Contact Name</label>
    <input type="text" class="form-control" id="name" placeholder="name" formControlName="contactName">
  </div>
  <div class="form-group">
    <label for="phone">Contact Phone</label>
    <input type="phone" class="form-control" id="phone" placeholder="phone" formControlName="contactPhone">
  </div>
  <div class="form-group">
    <label for="email">Contact Email</label>
    <input type="email" class="form-control" id="email" placeholder="email" formControlName="contactEmail">
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>
<p>Form value: {{ vehicleForm.value | json }}</p>